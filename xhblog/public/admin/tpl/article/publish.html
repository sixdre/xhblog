<div class="bg-light lter b-b wrapper-md">
	<h1 class="m-n font-thin h3">发布文章</h1>
</div>
<div class="wrapper-md">
	<div class="">
		<form name="article_form" class="clearfix form-horizontal" id="Article_form" enctype='multipart/form-data' ng-submit="publish()">
			<div class="form-group">
				<label for="" class="col-sm-1 control-label">标题</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="article.title" name="article_title" placeholder="请输入文章标题（必须）" required>
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-1 control-label">类型</label>
				<div class="col-sm-6">
					<ui-select ng-model="article.category" theme="bootstrap" required>
						<ui-select-match placeholder="请选择文章的类型">{{$select.selected.name}}</ui-select-match>
						<ui-select-choices repeat="item._id as item in CommonData.Categorys | filter: {name: $select.search}">
							<div ng-bind-html="item.name"></div>
						</ui-select-choices>
					</ui-select>
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-1 control-label">标签</label>
				<div class="col-sm-6">
					<ui-select multiple ng-model="article.tags" theme="bootstrap" required>
						<ui-select-match placeholder="请选择文章标签">{{$item.name}}</ui-select-match>
						<ui-select-choices repeat="tag._id as tag in CommonData.Tags | filter: {name: $select.search}">
							<div ng-bind-html="tag.name"></div>
						</ui-select-choices>
					</ui-select>
				</div>
			</div>
			<div class="form-group">
				<label for="" class="col-sm-1 control-label">封面</label>
				<div class="col-sm-6">
					<div ngf-select ng-model="file" name="file" style="width: 100px;height: 30px;background-color: #f0f0f0;"></div>
				</div>
			</div>
			<div class="form-group col-md-12">
				<script id="editor" type="text/plain"></script>
			</div>
			<div class="text-right form-group col-md-12">
				<button type="button" class="btn btn-warning waves-effect waves-light" ng-disabled='article_form.$invalid' ng-click="publish('draft');">
                                             存为草稿
            </button>
				<button type="submit" class="btn btn-primary waves-effect waves-light" ng-disabled='article_form.$invalid'>
                                              发表文章
            </button>
			</div>
		</form>
	</div>
</div>

<script type="text/javascript">
	if(uetrue) {
		uetrue.destroy();
	}
	uetrue = UE.getEditor('editor', {
		initialFrameHeight: 300 //高度设置
	});
</script>